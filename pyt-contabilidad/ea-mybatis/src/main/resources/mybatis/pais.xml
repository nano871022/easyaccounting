<?xml version = "1.0" encoding = "UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="co.com.japl.ea.dto.dto.pais">

	<insert id="insert"
		parameterType="co.com.japl.ea.dto.dto.PaisDTO">
		INSERT INTO TBL_COUNTRY
		(scode
		,sname
		,sstate
		,dcreate
		,dupdate
		,ddelete
		,screater
		,supdater
		,sdeleter)
		VALUES
		(#{codigo}
		,#{nombre}
		,#{estado.codigo}
		,#{fechaCreacion}
		,#{fechaActualizacion}
		,#{fechaEliminacion}
		,#{creador}
		,#{actualizador}
		,#{eliminador});
	</insert>

	<select id="select"
		parameterType="co.com.japl.ea.dto.dto.PaisDTO"
		resultType="co.com.japl.ea.dto.dto.PaisDTO">
		SELECT
		scode as codigo
		,sname as nombre
		,dcreate
		as fechaCreacion
		,dupdate as fechaActualizacion
		,ddelete as
		fechaEliminacion
		,screater as creador
		,supdater as actualizador
		,sdeleter as eliminador
		FROM TBL_COUNTRY

		<include refid="paiswhere"></include>
	</select>

	<select id="update"
		parameterType="co.com.japl.ea.dto.dto.PaisDTO">
		UPDATE TBL_COUNTRY
		SET
		scode = #{codigo}
		,sname = #{nombre}
		,sstate = #{estado.codigo}
		,dcreate = #{fechaCreacion}
		,dupdate = #{fechaActualizacion}
		,ddelete = #{fechaEliminacion}
		,screater = #{creador}
		,supdater = #{actualizador}
		,sdeleter = #{eliminador}
		<include refid="paiswhere"></include>
	</select>

	<select id="select_count"
		parameterType="co.com.japl.ea.dto.dto.PaisDTO"
		resultType="Integer">
		SELECT
		count(scode)
		FROM TBL_COUNTRY
		<include refid="paiswhere"></include>
	</select>
	<sql id="paiswhere">
		<where>
			<if test="codigo != null">
				and scode = #{codigo}
			</if>
			<if test="nombre != null">
				and sname = #{nombre}
			</if>
			<if test="estado != null">
				and sstate = #{estado.codigo}
			</if>
		</where>
	</sql>



</mapper>